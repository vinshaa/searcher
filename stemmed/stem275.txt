common lisp from wikipedia the free encyclopedia jump to navig search thi articl includ a list of refer but it sourc remain unclear becaus it ha insuffici inlin citat pleas help to improv thi articl by introduc more precis citat mai common lispparadigmmulti paradigm procedur function object orient meta reflect genericfamilylispdesign byscott fahlman richard p gabriel dave moon gui steel dan weinrebdeveloperansi x j committeefirst appear for ansi common lisptyp disciplinedynam strongscopelex option dynamicoscross platformfilenam extens lisp lsp l cl faslwebsitecommon lisp netmajor implementationsallegro cl abcl clisp clozur cl cmucl ecl gcl lispwork scieneer cl sbcl symbol common lispdialectscltl cltl ansi common lispinfluenc bylisp lisp machin lisp maclisp scheme interlispinfluencedclojur dylan emac lisp eulisp islisp julia moos r skill subl common lisp cl is a dialect of the lisp program languag publish in ansi standard document ansi incit r formerli x r from the ansi common lisp standard the common lisp hyperspec a hyperlink html version ha been deriv the common lisp languag wa develop as a standard and improv successor of maclisp thu it is not an implement but rather a languag specif sever implement of the common lisp standard ar avail includ free and open sourc softwar and proprietari product the first languag document wa publish as common lisp the languag first edit a second edit publish in incorpor mani chang to the languag made dure the ansi common lisp standard process the final ansi common lisp standard then wa publish in sinc then no updat to the standard ha been publish variou extens and improv to common lisp exampl ar unicod concurr clo base io have been provid by implement common lisp is a gener purpos multi paradigm program languag it support a combin of procedur function and object orient program paradigm as a dynam program languag it facilit evolutionari and increment softwar develop with iter compil into effici run time program thi increment develop is often done interact without interrupt the run applic it also support option type annot and cast which can be ad as necessari at the later profil and optim stage to permit the compil to gener more effici code for instanc fixnum can hold an unbox integ in a rang support by the hardwar and implement permit more effici arithmet than on big integ or arbitrari precis type similarli the compil can be told on a per modul or per function basi which type safeti level is want us optim declar common lisp includ clo an object system that support multimethod and method combin it is often implement with a metaobject protocol common lisp is extens through standard featur such as lisp macro code transform and reader macro input parser for charact common lisp provid some backward compat to maclisp and to john mccarthi s origin lisp thi allow older lisp softwar to be port to common lisp content syntax data type scalar type data structur function defin function defin gener function and method the function namespac other type scope determin of scope kind of environ global dynam lexic macro exampl us a macro to defin a new control structur variabl captur and shadow condit system common lisp object system clo compil and interpret code exampl birthdai paradox sort a list of person object exponenti by squar find the list of avail shell comparison with other lisp implement list of implement commerci implement freeli redistribut implement other implement applic librari see also refer bibliographi extern link syntax edit common lisp is a dialect of lisp it us s express to denot both code and data structur function call macro form and special form ar written as list with the name of the function first as in these exampl add and yield the function s name is lisp ha no oper as such defvar x ensur that a variabl x exist without give it a valu the asterisk ar part of the name by convent denot a special global variabl the symbol x is also herebi endow with the properti that subsequ bind of it ar dynam rather than lexic setf x set the variabl x to the float point valu defin a function that squar a number defun squar x x x execut the function squar return the let construct creat a scope for local variabl here the variabl a is bound to and the variabl b is bound to insid the let is a bodi where the last comput valu is return here the result of ad a and b is return from the let express the variabl a and b have lexic scope unless the symbol have been mark as special variabl for instanc by a prior defvar let a b a b return data type edit common lisp ha mani data type scalar type edit number type includ integ ratio float point number and complex number common lisp us bignum to repres numer valu of arbitrari size and precis the ratio type repres fraction exactli a facil not avail in mani languag common lisp automat coerc numer valu among these type as appropri the common lisp charact type is not limit to ascii charact most modern implement allow unicod charact the symbol type is common to lisp languag but larg unknown outsid them a symbol is a uniqu name data object with sever part name valu function properti list and packag of these valu cell and function cell ar the most import symbol in lisp ar often us similarli to identifi in other languag to hold the valu of a variabl howev there ar mani other us normal when a symbol is evalu it valu is return some symbol evalu to themselv for exampl all symbol in the keyword packag ar self evalu boolean valu in common lisp ar repres by the self evalu symbol t and nil common lisp ha namespac for symbol call packag a number of function ar avail for round scalar numer valu in variou wai the function round round the argument to the nearest integ with halfwai case round to the even integ the function truncat floor and ceil round toward zero down or up respect all these function return the discard fraction part as a secondari valu for exampl floor yield ceil yield round yield and round yield data structur edit sequenc type in common lisp includ list vector bit vector and string there ar mani oper which can work on ani sequenc type as in almost all other lisp dialect list in common lisp ar compos of cons sometim call con cell or pair a con is a data structur with two slot call it car and cdr a list is a link chain of cons or the empti list each con s car refer to a member of the list possibl anoth list each con s cdr refer to the next con except for the last con in a list whose cdr refer to the nil valu cons can also easili be us to implement tree and other complex data structur though it is usual advis to us structur or class instanc instead it is also possibl to creat circular data structur with cons common lisp support multidimension arrai and can dynam resiz adjust arrai if requir multidimension arrai can be us for matrix mathemat a vector is a on dimension arrai arrai can carri ani type as member even mix type in the same arrai or can be special to contain a specif type of member as in a vector of bit usual onli a few type ar support mani implement can optim arrai function when the arrai us is type special two type special arrai type ar standard a string is a vector of charact while a bit vector is a vector of bit hash tabl store associ between data object ani object mai be us as kei or valu hash tabl ar automat resiz as need packag ar collect of symbol us chiefli to separ the part of a program into namespac a packag mai export some symbol mark them as part of a public interfac packag can us other packag structur similar in us to c struct and pascal record repres arbitrari complex data structur with ani number and type of field call slot structur allow singl inherit class ar similar to structur but offer more dynam featur and multipl inherit see clo class have been ad late to common lisp and there is some conceptu overlap with structur object creat of class ar call instanc a special case ar gener function gener function ar both function and instanc function edit common lisp support first class function for instanc it is possibl to write function that take other function as argument or return function as well thi make it possibl to describ veri gener oper the common lisp librari reli heavili on such higher order function for exampl the sort function take a relat oper as an argument and kei function as an option keyword argument thi can be us not onli to sort ani type of data but also to sort data structur accord to a kei sort the list us the and function as the relat oper sort list return sort list return sort the list accord to the first element of each sub list sort list a b c kei first return b c a the evalu model for function is veri simpl when the evalu encount a form f a a then it presum that the symbol name f is on of the follow a special oper easili check against a fix list a macro oper must have been defin previous the name of a function default which mai either be a symbol or a sub form begin with the symbol lambda if f is the name of a function then the argument a a an ar evalu in left to right order and the function is found and invok with those valu suppli as paramet defin function edit the macro defun defin function where a function definit give the name of the function the name of ani argument and a function bodi defun squar x x x function definit mai includ compil direct known as declar which provid hint to the compil about optim set or the data type of argument thei mai also includ document string docstr which the lisp system mai us to provid interact document defun squar x calcul the squar of the singl float x declar singl float x optim speed debug safeti the singl float x x anonym function function liter ar defin us lambda express e g lambda x x x for a function that squar it argument lisp program style frequent us higher order function for which it is us to provid anonym function as argument local function can be defin with flet and label flet squar x x x squar there ar a number of other oper relat to the definit and manipul of function for instanc a function mai be compil with the compil oper some lisp system run function us an interpret by default unless instruct to compil other compil everi function defin gener function and method edit the macro defgener defin gener function the macro defmethod defin method gener function ar a collect of method method can special their paramet over clo standard class system class structur class or object for mani type there ar correspond system class when a gener function is call multipl dispatch will determin the effect method to us defgener add a b defmethod add a number b number a b defmethod add a vector b number map vector lambda n n b a defmethod add a vector b vector map vector a b defmethod add a string b string concaten string a b add return add return add return add common lisp return common lisp gener function ar also a first class data type there ar mani more featur to gener function and method than describ abov the function namespac edit the namespac for function name is separ from the namespac for data variabl thi is a kei differ between common lisp and scheme for common lisp oper that defin name in the function namespac includ defun flet label defmethod and defgener to pass a function by name as an argument to anoth function on must us the function special oper commonli abbrevi as the first sort exampl abov refer to the function name by the symbol in the function namespac with the code convers to call a function pass in such a wai on would us the funcal oper on the argument scheme s evalu model is simpler there is onli on namespac and all posit in the form ar evalu in ani order not just the argument code written in on dialect is therefor sometim confus to programm more experienc in the other for instanc mani common lisp programm like to us descript variabl name such as list or string which could caus problem in scheme as thei would local shadow function name whether a separ namespac for function is an advantag is a sourc of content in the lisp commun it is usual refer to as the lisp vs lisp debat lisp refer to scheme s model and lisp refer to common lisp s model these name were coin in a paper by richard p gabriel and kent pitman which extens compar the two approach other type edit other data type in common lisp includ pathnam repres file and directori in the filesystem the common lisp pathnam facil is more gener than most oper system file name convent make lisp program access to file broadli portabl across divers system input and output stream repres sourc and sink of binari or textual data such as the termin or open file common lisp ha a built in pseudo random number gener prng random state object repres reusabl sourc of pseudo random number allow the user to seed the prng or caus it to replai a sequenc condit ar a type us to repres error except and other interest event to which a program mai respond class ar first class object and ar themselv instanc of class call metaobject class metaclass for short readtabl ar a type of object which control how common lisp s reader pars the text of sourc code by control which readtabl is in us when code is read in the programm can chang or extend the languag s syntax scope edit like program in mani other program languag common lisp program make us of name to refer to variabl function and mani other kind of entiti name refer ar subject to scope the associ between a name and the entiti which the name refer to is call a bind scope refer to the set of circumst in which a name is determin to have a particular bind determin of scope edit the circumst which determin scope in common lisp includ the locat of a refer within an express if it s the leftmost posit of a compound it refer to a special oper or a macro or function bind otherwis to a variabl bind or someth els the kind of express in which the refer take place for instanc go x mean transfer control to label x wherea print x refer to the variabl x both scope of x can be activ in the same region of program text sinc tagbodi label ar in a separ namespac from variabl name a special form or macro form ha complet control over the mean of all symbol in it syntax for instanc in defclass x a b a class definit the a b is a list of base class so these name ar look up in the space of class name and x isn t a refer to an exist bind but the name of a new class be deriv from a and b these fact emerg pure from the semant of defclass the onli gener fact about thi express is that defclass refer to a macro bind everyth els is up to defclass the locat of the refer within the program text for instanc if a refer to variabl x is enclos in a bind construct such as a let which defin a bind for x then the refer is in the scope creat by that bind for a variabl refer whether or not a variabl symbol ha been local or global declar special thi determin whether the refer is resolv within a lexic environ or within a dynam environ the specif instanc of the environ in which the refer is resolv an environ is a run time dictionari which map symbol to bind each kind of refer us it own kind of environ refer to lexic variabl ar resolv in a lexic environ et cetera more than on environ can be associ with the same refer for instanc thank to recurs or the us of multipl thread multipl activ of the same function can exist at the same time these activ share the same program text but each ha it own lexic environ instanc to understand what a symbol refer to the common lisp programm must know what kind of refer is be express what kind of scope it us if it is a variabl refer dynam versu lexic scope and also the run time situat in what environ is the refer resolv where wa the bind introduc into the environ et cetera kind of environ edit global edit some environ in lisp ar global pervas for instanc if a new type is defin it is known everywher thereaft refer to that type look it up in thi global environ dynam edit on type of environ in common lisp is the dynam environ bind establish in thi environ have dynam extent which mean that a bind is establish at the start of the execut of some construct such as a let block and disappear when that construct finish execut it lifetim is ti to the dynam activ and deactiv of a block howev a dynam bind is not just visibl within that block it is also visibl to all function invok from that block thi type of visibl is known as indefinit scope bind which exhibit dynam extent lifetim ti to the activ and deactiv of a block and indefinit scope visibl to all function which ar call from that block ar said to have dynam scope common lisp ha support for dynam scope variabl which ar also call special variabl certain other kind of bind ar necessarili dynam scope also such as restart and catch tag function bind cannot be dynam scope us flet which onli provid lexic scope function bind but function object a first level object in common lisp can be assign to dynam scope variabl bound us let in dynam scope then call us funcal or appli dynam scope is extrem us becaus it add referenti clariti and disciplin to global variabl global variabl ar frown upon in comput scienc as potenti sourc of error becaus thei can give rise to ad hoc covert channel of commun among modul that lead to unwant surpris interact in common lisp a special variabl which ha onli a top level bind behav just like a global variabl in other program languag a new valu can be store into it and that valu simpli replac what is in the top level bind careless replac of the valu of a global variabl is at the heart of bug caus by us of global variabl howev anoth wai to work with a special variabl is to give it a new local bind within an express thi is sometim refer to as rebind the variabl bind a dynam scope variabl temporarili creat a new memori locat for that variabl and associ the name with that locat while that bind is in effect all refer to that variabl refer to the new bind the previou bind is hidden when execut of the bind express termin the temporari memori locat is gone and the old bind is reveal with the origin valu intact of cours multipl dynam bind for the same variabl can be nest in common lisp implement which support multithread dynam scope ar specif to each thread of execut thu special variabl serv as an abstract for thread local storag if on thread rebind a special variabl thi rebind ha no effect on that variabl in other thread the valu store in a bind can onli be retriev by the thread which creat that bind if each thread bind some special variabl x then x behav like thread local storag among thread which do not rebind x it behav like an ordinari global all of these thread refer to the same top level bind of x dynam variabl can be us to extend the execut context with addit context inform which is implicitli pass from function to function without have to appear as an extra function paramet thi is especi us when the control transfer ha to pass through layer of unrel code which simpli cannot be extend with extra paramet to pass the addit data a situat like thi usual call for a global variabl that global variabl must be save and restor so that the scheme doesn t break under recurs dynam variabl rebind take care of thi and that variabl must be made thread local or els a big mutex must be us so the scheme doesn t break under thread dynam scope implement can take care of thi also in the common lisp librari there ar mani standard special variabl for instanc all standard i o stream ar store in the top level bind of well known special variabl the standard output stream is store in standard output suppos a function foo write to standard output defun foo format t hello world to captur it output in a charact string standard output can be bound to a string stream and call with output to string standard output foo hello world gather output return as a string lexic edit common lisp support lexic environ formal the bind in a lexic environ have lexic scope and mai have either indefinit extent or dynam extent depend on the type of namespac lexic scope mean that visibl is physic restrict to the block in which the bind is establish refer which ar not textual i e lexic embed in that block simpli do not see that bind the tag in a tagbodi have lexic scope the express go x is erron if it is not actual embed in a tagbodi which contain a label x howev the label bind disappear when the tagbodi termin it execut becaus thei have dynam extent if that block of code is re enter by the invoc of a lexic closur it is invalid for the bodi of that closur to try to transfer control to a tag via go defvar stash will hold a function tagbodi setf stash lambda go some label go end label skip the print hello some label print hello end label nil when the tagbodi is execut it first evalu the setf form which store a function in the special variabl stash then the go end label transfer control to end label skip the code print hello sinc end label is at the end of the tagbodi the tagbodi termin yield nil suppos that the previous rememb function is now call funcal stash error thi situat is erron on implement s respons is an error condit contain the messag go tagbodi for tag some label ha alreadi been left the function tri to evalu go some label which is lexic embed in the tagbodi and resolv to the label howev the tagbodi isn t execut it extent ha end and so the control transfer cannot take place local function bind in lisp have lexic scope and variabl bind also have lexic scope by default by contrast with go label both of these have indefinit extent when a lexic function or variabl bind is establish that bind continu to exist for as long as refer to it ar possibl even after the construct which establish that bind ha termin refer to lexic variabl and function after the termin of their establish construct ar possibl thank to lexic closur lexic bind is the default bind mode for common lisp variabl for an individu symbol it can be switch to dynam scope either by a local declar by a global declar the latter mai occur implicitli through the us of a construct like defvar or defparamet it is an import convent in common lisp program that special i e dynam scope variabl have name which begin and end with an asterisk sigil in what is call the earmuff convent if adher to thi convent effect creat a separ namespac for special variabl so that variabl intend to be lexic ar not accident made special lexic scope is us for sever reason firstli refer to variabl and function can be compil to effici machin code becaus the run time environ structur is rel simpl in mani case it can be optim to stack storag so open and close lexic scope ha minim overhead even in case where full closur must be gener access to the closur s environ is still effici typic each variabl becom an offset into a vector of bind and so a variabl refer becom a simpl load or store instruct with a base plu offset address mode secondli lexic scope combin with indefinit extent give rise to the lexic closur which in turn creat a whole paradigm of program center around the us of function be first class object which is at the root of function program thirdli perhap most importantli even if lexic closur ar not exploit the us of lexic scope isol program modul from unwant interact due to their restrict visibl lexic variabl ar privat if on modul a bind a lexic variabl x and call anoth modul b refer to x in b will not accident resolv to the x bound in a b simpli ha no access to x for situat in which disciplin interact through a variabl ar desir common lisp provid special variabl special variabl allow for a modul a to set up a bind for a variabl x which is visibl to anoth modul b call from a be abl to do thi is an advantag and be abl to prevent it from happen is also an advantag consequ common lisp support both lexic and dynam scope macro edit a macro in lisp superfici resembl a function in usag howev rather than repres an express which is evalu it repres a transform of the program sourc code the macro get the sourc it surround as argument bind them to it paramet and comput a new sourc form thi new form can also us a macro the macro expans is repeat until the new sourc form doe not us a macro the final comput form is the sourc code execut at runtim typic us of macro in lisp new control structur exampl loop construct branch construct scope and bind constructssimplifi syntax for complex and repeat sourc codetop level defin form with compil time side effectsdata driven programmingembed domain specif languag exampl sql html prolog implicit final form variou standard common lisp featur also need to be implement as macro such as the standard setf abstract to allow custom compil time expans of assign access operatorswith accessor with slot with open file and other similar with macrosdepend on implement if or cond is a macro built on the other the special oper when and unless consist of macrosth power loop domain specif languag macro ar defin by the defmacro macro the special oper macrolet allow the definit of local lexic scope macro it is also possibl to defin macro for symbol us defin symbol macro and symbol macrolet paul graham s book on lisp describ the us of macro in common lisp in detail doug hoyt s book let over lambda extend the discuss on macro claim macro ar the singl greatest advantag that lisp ha as a program languag and the singl greatest advantag of ani program languag hoyt provid sever exampl of iter develop of macro exampl us a macro to defin a new control structur edit macro allow lisp programm to creat new syntact form in the languag on typic us is to creat new control structur the exampl macro provid an until loop construct the syntax is until test form the macro definit for until defmacro until test bodi bodi let start tag gensym start end tag gensym end tagbodi start tag when test go end tag progn bodi go start tag end tag tagbodi is a primit common lisp special oper which provid the abil to name tag and us the go form to jump to those tag the backquot provid a notat that provid code templat where the valu of form preced with a comma ar fill in form preced with comma and at sign ar splice in the tagbodi form test the end condit if the condit is true it jump to the end tag otherwis the provid bodi code is execut and then it jump to the start tag an exampl form us abov until macro until random write line hello the code can be expand us the function macroexpand the expans for abov exampl look like thi tagbodi start when zerop random go end progn write line hello go start end dure macro expans the valu of the variabl test is random and the valu of the variabl bodi is write line hello the bodi is a list of form symbol ar usual automat upcas the expans us the tagbodi with two label the symbol for these label ar comput by gensym and ar not intern in ani packag two go form us these tag to jump to sinc tagbodi is a primit oper in common lisp and not a macro it will not be expand into someth els the expand form us the when macro which also will be expand fulli expand a sourc form is call code walk in the fulli expand walk form the when form is replac by the primit if tagbodi start if zerop random progn go end nil progn write line hello go start end all macro must be expand befor the sourc code contain them can be evalu or compil normal macro can be consid function that accept and return abstract syntax tree lisp s express these function ar invok befor the evalu or compil to produc the final sourc code macro ar written in normal common lisp and mai us ani common lisp or third parti oper avail variabl captur and shadow edit common lisp macro ar capabl of what is commonli call variabl captur where symbol in the macro expans bodi coincid with those in the call context allow the programm to creat macro wherein variou symbol have special mean the term variabl captur is somewhat mislead becaus all namespac ar vulner to unwant captur includ the oper and function namespac the tagbodi label namespac catch tag condit handler and restart namespac variabl captur can introduc softwar defect thi happen in on of the follow two wai in the first wai a macro expans can inadvert make a symbol refer which the macro writer assum will resolv in a global namespac but the code where the macro is expand happen to provid a local shadow definit which steal that refer let thi be refer to as type captur the second wai type captur is just the opposit some of the argument of the macro ar piec of code suppli by the macro caller and those piec of code ar written such that thei make refer to surround bind howev the macro insert these piec of code into an expans which defin it own bind that accident captur some of these refer the scheme dialect of lisp provid a macro write system which provid the referenti transpar that elimin both type of captur problem thi type of macro system is sometim call hygien in particular by it propon who regard macro system which do not automat solv thi problem as unhygien citat need in common lisp macro hygien is ensur on of two differ wai on approach is to us gensym guarante uniqu symbol which can be us in a macro expans without threat of captur the us of gensym in a macro definit is a manual chore but macro can be written which simplifi the instanti and us of gensym gensym solv type captur easili but thei ar not applic to type captur in the same wai becaus the macro expans cannot renam the interf symbol in the surround code which captur it refer gensym could be us to provid stabl alias for the global symbol which the macro expans need the macro expans would us these secret alias rather than the well known name so redefinit of the well known name would have no ill effect on the macro anoth approach is to us packag a macro defin in it own packag can simpli us intern symbol in that packag in it expans the us of packag deal with type and type captur howev packag don t solv the type captur of refer to standard common lisp function and oper the reason is that the us of packag to solv captur problem revolv around the us of privat symbol symbol in on packag which ar not import into or otherwis made visibl in other packag wherea the common lisp librari symbol ar extern and frequent import into or made visibl in user defin packag the follow is an exampl of unwant captur in the oper namespac occur in the expans of a macro expans of until make liber us of do defmacro until express bodi bodi do express bodi macrolet establish lexic oper bind for do macrolet do someth els until random write line hello the until macro will expand into a form which call do which is intend to refer to the standard common lisp macro do howev in thi context do mai have a complet differ mean so until mai not work properli common lisp solv the problem of the shadow of standard oper and function by forbid their redefinit becaus it redefin the standard oper do the preced is actual a fragment of non conform common lisp which allow implement to diagnos and reject it condit system edit the condit system is respons for except handl in common lisp it provid condit handler and restart condit ar object describ an except situat for exampl an error if a condit is signal the common lisp system search for a handler for thi condit type and call the handler the handler can now search for restart and us on of these restart to repair the current problem as part of a user interfac for exampl of a debugg these restart can also be present to the user so that the user can select and invok on of the avail restart sinc the condit handler is call in the context of the error without unwind the stack full error recoveri is possibl in mani case where other except handl system would have alreadi termin the current routin the debugg itself can also be custom or replac us the debugg hook dynam variabl in the follow exampl us symbol genera the user tri to open a file in a lisp function test call from the read eval print loop repl when the file doe not exist the lisp system present four restart the user select the retri open us a differ pathnam restart and enter a differ pathnam lispm init lisp instead of lispm int lisp the user code doe not contain ani error handl code the whole error handl and restart code is provid by the lisp system which can handl and repair the error without termin the user code command test zippi lispm int lisp error the file wa not found for lispm zippi lispm int lisp newest lmf open local lmf arg p lispm zippi lispm int lisp newest s a resum retri open of lispm zippi lispm int lisp newest s b retri open us a differ pathnam s c abort return to lisp top level in a telnet server s d restart process telnet termin retri open us a differ pathnam us what pathnam instead default lispm zippi lispm int lisp newest lispm zippi lispm init lisp newest the program continu common lisp object system clo edit main articl common lisp object system common lisp includ a toolkit for object orient program the common lisp object system or clo which is on of the most power object system avail in ani languag for exampl peter norvig explain how mani design pattern ar simpler to implement in a dynam languag with the featur of clo multipl inherit mixin multimethod metaclass method combin etc sever extens to common lisp for object orient program have been propos to be includ into the ansi common lisp standard but eventu clo wa adopt as the standard object system for common lisp clo is a dynam object system with multipl dispatch and multipl inherit and differ radic from the oop facil found in static languag such as c or java as a dynam object system clo allow chang at runtim to gener function and class method can be ad and remov class can be ad and redefin object can be updat for class chang and the class of object can be chang clo ha been integr into ansi common lisp gener function can be us like normal function and ar a first class data type everi clo class is integr into the common lisp type system mani common lisp type have a correspond class there is more potenti us of clo for common lisp the specif doe not sai whether condit ar implement with clo pathnam and stream could be implement with clo these further usag possibl of clo for ansi common lisp ar not part of the standard actual common lisp implement ar us clo for pathnam stream input output condit the implement of clo itself and more compil and interpret edit sever implement of earlier lisp dialect provid both an interpret and a compil unfortun often the semant were differ these earlier lisp implement lexic scope in the compil and dynam scope in the interpret common lisp requir that both the interpret and compil us lexic scope by default the common lisp standard describ both the semant of the interpret and a compil the compil can be call us the function compil for individu function and us the function compil file for file common lisp allow type declar and provid wai to influenc the compil code gener polici for the latter variou optim qualiti can be given valu between not import and most import speed space safeti debug and compil speed there is also a function to evalu lisp code eval eval take code as pre pars s express and not like in some other languag as text string thi wai code can be construct with the usual lisp function for construct list and symbol and then thi code can be evalu with eval sever common lisp implement like clozur cl and sbcl ar implement eval us their compil thi wai code is compil even though it is evalu us the function eval the file compil is invok us the function compil file the gener file with compil code is call a fasl from fast load file these fasl file and also sourc code file can be load with the function load into a run common lisp system depend on the implement the file compil gener byte code for exampl for the java virtual machin c languag code which then is compil with a c compil or directli nativ code common lisp implement can be us interact even though the code get fulli compil the idea of an interpret languag thu doe not appli for interact common lisp the languag make distinct between read time compil time load time and run time and allow user code to also make thi distinct to perform the want type of process at the want step some special oper ar provid to especi suit interact develop for instanc defvar will onli assign a valu to it provid variabl if it wasn t alreadi bound while defparamet will alwai perform the assign thi distinct is us when interact evalu compil and load code in a live imag some featur ar also provid to help write compil and interpret symbol consist of first level object and ar directli manipul by user code the progv special oper allow to creat lexic bind programmat while packag ar also manipul the lisp compil itself is avail at runtim to compil file or individu function these make it easi to us lisp as an intermedi compil or interpret for anoth languag code exampl edit birthdai paradox edit the follow program calcul the smallest number of peopl in a room for whom the probabl of complet uniqu birthdai is less than the so call birthdai paradox where for person the probabl is obvious for it is etc answer by convent constant in common lisp ar bracket with charact defconst year size defun birthdai paradox probabl number of peopl let new probabl year size number of peopl year size probabl if new probabl number of peopl birthdai paradox new probabl number of peopl call the exampl function us the repl read eval print loop cl user birthdai paradox sort a list of person object edit we defin a class person and a method for displai the name and ag of a person next we defin a group of person as a list of person object then we iter over the sort list defclass person name initarg name accessor person name ag initarg ag accessor person ag document the class person with slot name and ag defmethod displai object person stream displai a person object to an output stream with slot name ag object format stream a a name ag defparamet group list make instanc person name bob ag make instanc person name chri ag make instanc person name ash ag a list of person object dolist person sort copi list group kei person ag displai person standard output terpri it print the three name with descend ag bob ash chri exponenti by squar edit us of the loop macro is demonstr defun power x n loop with result while plusp n when oddp n do setf result result x do setf x x x n truncat n final return result exampl us cl user power compar with the built in exponenti cl user expt power t find the list of avail shell edit with open file is a macro that open a file and provid a stream when the form is return the file is automat close funcal call a function object the loop collect all line that match the predic defun list match line file predic return a list of line in file for which the predic appli to the line return t with open file stream file loop for line read line stream nil nil while line when funcal predic line collect it the function avail shell call abov function list match line with a pathnam and an anonym function as the predic the predic return the pathnam of a shell or nil if the string is not the filenam of a shell defun avail shell option file p etc shell list match line file lambda line and plusp length line char char line pathnam string right trim space tab line exampl result on mac os x cl user avail shell p bin bash p bin csh p bin ksh p bin sh p bin tcsh p bin zsh comparison with other lisp edit common lisp is most frequent compar with and contrast to scheme if onli becaus thei ar the two most popular lisp dialect scheme predat cl and come not onli from the same lisp tradit but from some of the same engin gui l steel with whom gerald jai sussman design scheme chair the standard committe for common lisp common lisp is a gener purpos program languag in contrast to lisp variant such as emac lisp and autolisp which ar extens languag embed in particular product unlik mani earlier lisp common lisp like scheme us lexic variabl scope by default for both interpret and compil code most of the lisp system whose design contribut to common lisp such as zetalisp and franz lisp us dynam scope variabl in their interpret and lexic scope variabl in their compil scheme introduc the sole us of lexic scope variabl to lisp an inspir from algol which wa wide recogn as a good idea cl support dynam scope variabl as well but thei must be explicitli declar as special there ar no differ in scope between ansi cl interpret and compil common lisp is sometim term a lisp and scheme a lisp refer to cl s us of separ namespac for function and variabl in fact cl ha mani namespac such as those for go tag block name and loop keyword there is a long stand controversi between cl and scheme advoc over the tradeoff involv in multipl namespac in scheme it is broadli necessari to avoid give variabl name which clash with function scheme function frequent have argument name li lst or lyst so as not to conflict with the system function list howev in cl it is necessari to explicitli refer to the function namespac when pass a function as an argument which is also a common occurr as in the sort exampl abov cl also differ from scheme in it handl of boolean valu scheme us the special valu t and f to repres truth and falsiti cl follow the older lisp convent of us the symbol t and nil with nil stand also for the empti list in cl ani non nil valu is treat as true by condit such as if wherea in scheme all non f valu ar treat as true these convent allow some oper in both languag to serv both as predic answer a boolean valu question and as return a us valu for further comput but in scheme the valu which is equival to nil in common lisp evalu to true in a boolean express lastli the scheme standard document requir tail call optim which the cl standard doe not most cl implement do offer tail call optim although often onli when the programm us an optim direct nonetheless common cl code style doe not favor the ubiquit us of recurs that scheme style prefer what a scheme programm would express with tail recurs a cl user would usual express with an iter express in do dolist loop or more recent with the iter packag implement edit see the categori common lisp implement common lisp is defin by a specif like ada and c rather than by on implement like perl befor version there ar mani implement and the standard detail area in which thei mai validli differ in addit implement tend to come with librari packag which provid function not cover in the standard free and open sourc softwar librari have been creat to support such featur in a portabl wai and ar most notabl found in the repositori of the common lisp net and common lisp open code collect project common lisp implement mai us ani mix of nativ code compil byte code compil or interpret common lisp ha been design to support increment compil file compil and block compil standard declar to optim compil such as function inlin or type special ar propos in the languag specif most common lisp implement compil sourc code to nativ machin code some implement can creat optim stand alon applic other compil to interpret bytecod which is less effici than nativ code but eas binari code portabl there ar also compil that compil common lisp code to c code the misconcept that lisp is a pure interpret languag is most like becaus lisp environ provid an interact prompt and that code is compil on by on in an increment wai with common lisp increment compil is wide us some unix base implement clisp sbcl can be us as a script languag that is invok by the system transpar in the wai that a perl or unix shell interpret is list of implement edit commerci implement edit allegro common lispfor microsoft window freebsd linux appl mac os x and variou unix variant allegro cl provid an integr develop environ id for window and linux and extens capabl for applic deliveri liquid common lispformerli call lucid common lisp onli mainten no new releas lispworksfor microsoft window freebsd linux appl mac os x and variou unix variant lispwork provid an integr develop environ id avail for all platform and extens capabl for applic deliveri moclfor io android and mac os x open generafor dec alpha scieneer common lispwhich is design for high perform scientif comput freeli redistribut implement edit arm bear common lisp abcl a cl implement that run on the java virtual machin it includ a compil to java byte code and allow access to java librari from cl it wa formerli just a compon of the arm bear j editor clispa bytecod compil implement portabl and run on a number of unix and unix like system includ mac os x as well as microsoft window and sever other system clozur cl ccl origin a free and open sourc fork of macintosh common lisp as that histori impli ccl wa written for the macintosh but clozur cl now run on mac os x freebsd linux solari and window and bit x port ar support on each platform addition there ar power pc port for mac os and linux ccl wa previous known as openmcl but that name is no longer us to avoid confus with the open sourc version of macintosh common lisp cmuclorigin from carnegi mellon univers now maintain as free and open sourc softwar by a group of volunt cmucl us a fast nativ code compil it is avail on linux and bsd for intel x linux for alpha mac os x for intel x and powerpc and solari irix and hp ux on their nativ platform corman common lispfor microsoft window in januari corman lisp ha been publish under mit licens embedd common lisp ecl ecl includ a bytecod interpret and compil it can also compil lisp code to machin code via a c compil ecl then compil lisp code to c compil the c code with a c compil and can then load the result machin code it is also possibl to emb ecl in c program and c code into common lisp program gnu common lisp gcl the gnu project s lisp compil not yet fulli ansi compliant gcl is howev the implement of choic for sever larg project includ the mathemat tool maxima axiom and histor acl gcl run on linux under eleven differ architectur and also under window solari and freebsd macintosh common lisp mcl version for appl macintosh comput with a powerpc processor run mac os x is open sourc rmcl base on mcl run on intel base appl macintosh comput us the rosetta binari translat from appl mankai common lisp mkcl a branch of ecl mkcl emphasis reliabl stabil and overal code qualiti through a heavili rework nativ multi thread runtim system on linux mkcl featur a fulli posix compliant runtim system movitzimpl a lisp environ for x comput without reli on ani underli os poplogpoplog implement a version of cl with pop and option prolog and standard ml sml allow mix languag program for all the implement languag is pop which is compil increment it also ha an integr emac like editor that commun with the compil steel bank common lisp sbcl a branch from cmucl broadli speak sbcl is distinguish from cmu cl by a greater emphasi on maintain sbcl run on the platform cmucl doe except hp ux in addit it run on linux for amd powerpc sparc mip window x and ha experiment support for run on window amd sbcl doe not us an interpret by default all express ar compil to nativ code unless the user switch the interpret on the sbcl compil gener fast nativ code ufasoft common lispport of clisp for window platform with core written in c other implement edit thi section doe not cite ani refer or sourc pleas help improv thi section by ad citat to reliabl sourc unsourc materi mai be challeng and remov juli austin kyoto common lisp an evolut of kyoto common lispbutterfli common lisp an implement written in scheme for the bbn butterfli multi processor computerclicc a common lisp to c compilerclo common lisp for pc by symbolicscodemist common lisp us for the commerci version of the comput algebra system axiomexpercommon lisp an earli implement for the appl macintosh by expertelligencegolden common lispan implement for the pc by goldhil inc ibuki common lisp a commerci version of kyoto common lispkyoto common lispth first common lisp compil that us c as a target languag gcl ecl and mkcl origin from thi common lisp implement l a small version of common lisp for embed system develop by is robot now irobotlisp machin from symbol ti and xerox provid implement of common lisp in addit to their nativ lisp dialect lisp machin lisp or interlisp clo wa also avail symbol provid a version of common lisp that is base on ansi common lisp procyon common lisp an implement for window and mac os us by franz for their window port of allegro clstar sapphir common lisp an implement for the pcsubla variant of common lisp us for the implement of the cyc knowledg base systemtop level common lisp an earli implement for concurr executionwcl a share librari implementationvax common lispdigit equip corpor s implement that ran on vax system run vm or ultrixxlisp by david betz applic edit see the categori common lisp softwar common lisp is us to develop research applic often in artifici intellig for rapid develop of prototyp or for deploi applic common lisp is us in mani commerci applic includ the yahoo store web commerc site which origin involv paul graham and wa later rewritten in c and perl other notabl exampl includ act r a cognit architectur us in a larg number of research project author s assist a larg rule base system us by american express analyz credit request cyc a long run project with the aim to creat a knowledg base system that provid a huge amount of common sens knowledgeth dynam analysi and replan tool dart which is said to alon have paid back dure the year from to for all thirti year of darpa invest in ai research g from gensym a real time busi rule engin bre genwork gdl base on the open sourc gendl kernel the develop environ for the jak and daxter video game seri develop by naughti dog ita softwar s low fare search engin us by travel websit such as orbitz and kayak com and airlin such as american airlin continent airlin and us airwai mirai a d graphic suit it wa us to anim the face of gollum in the movi lord of the ring the two tower prototyp verif system pv a mechan environ for formal specif and verif pwgl is a sophist visual program environ base on common lisp us in comput assist composit and sound synthesi spike a schedul system for earth or space base observatori and satellit notabl the hubbl space telescop there also exist open sourc applic written in common lisp such as acl a full featur autom theorem prover for an applic variant of common lisp axiom a sophist comput algebra system maxima a sophist comput algebra system openmus is an object orient visual program environ base on common lisp us in comput assist composit stumpwm a tile keyboard driven x window manag written entir in common lisp librari edit sinc zach bean with support of the common lisp foundat maintain the quicklisp librari manag it allow easi access to sever hundr librari written in common lisp see also edit comput scienc portalcomput program portal common lisp the languageon lisppract common lisp refer edit quot from cover of cite standard ansi incit r for sale on standard s document page authorship of the common lisp hyperspec common lisp hyperspec histori common lisp implement a survei old lisp program still run in common lisp retriev reddi abhishek featur of common lisp unicod support the common lisp wiki retriev richard p gabriel kent m pitman june technic issu of separ in function cell and valu cell lisp and symbol comput doi bf chapter of let over lambda peter seibel april practic common lisp apress isbn peter norvig design pattern in dynam program clisp as a script languag under unix arm bear common lisp corman lisp sourc ar now avail histori and copyright steel bank common lisp platform tabl steel bank common lisp sbcl rank abov other dynam languag implement in the comput languag benchmark game in januari yahoo releas a new version of the editor written in c and perl it s hard to sai whether the program is no longer written in lisp though becaus to translat thi program into c thei liter had to write a lisp interpret the sourc file of all the page gener templat ar still as far as i know lisp code paul graham beat the averag author s assist american express author s assist real time applic develop gensym retriev on pwgl home retriev on spike plan and schedul system stsci edu retriev on bibliographi edit a chronolog list of book publish or about to be publish about common lisp the languag or about program with common lisp especi ai program gui l steel common lisp the languag st edit digit press isbn xrodnei allen brook program in common lisp john wilei and son inc isbn richard p gabriel perform and evalu of lisp system the mit press isbn pdfrobert wilenski common lispcraft w w norton co isbn eugen charniak christoph k riesbeck drew v mcdermott jame r meehan artifici intellig program nd edit lawrenc erlbaum isbn wendi l milner common lisp a tutori prentic hall isbn deborah g tatar a programm s guid to common lisp longman higher educ isbn taiichi yuasa masami hagiya introduct to common lisp elsevi ltd isbn christian queinnec jerom chailloux lisp evolut and standard io pr inc isbn taiichi yuasa richard weyhrauch yasuko kitajima common lisp drill academ press inc isbn xwade l hennessei common lisp mcgraw hill inc isbn toni hasem john dominqu common lisp program for artifici intellig addison weslei educ publish inc isbn sonya e keen object orient program in common lisp a programm s guid to clo addison weslei isbn david jai steel golden common lisp a hand on approach addison weslei isbn david s touretzki common lisp a gentl introduct to symbol comput benjamin cum isbn web pdf dover reprint isbn christoph k riesbeck roger c schank insid case base reason lawrenc erlbaum isbn patrick winston berthold horn lisp rd edit addison weslei isbn webgerard gazdar chri mellish natur languag process in lisp an introduct to comput linguist addison weslei longman publish co isbn patrick r harrison common lisp and artifici intellig prentic hall ptr isbn timothi koschmann the common lisp companion john wilei son isbn molli m miller eric benson lisp style design digit press isbn gui l steel common lisp the languag nd edit digit press isbn websteven l tanimoto the element of artifici intellig us common lisp comput scienc press isbn peter lee topic in advanc languag implement the mit press isbn john h rilei a common lisp workbook prentic hall isbn peter norvig paradigm of artifici intellig program case studi in common lisp morgan kaufmann isbn webgregor kiczal jim de rivier daniel g bobrow the art of the metaobject protocol the mit press isbn jo a lawless molli m miller understand clo the common lisp object system digit press isbn xmark watson common lisp modul artifici intellig in the era of neural network and chao theori springer verlag new york inc isbn jame l noy artifici intellig with common lisp fundament of symbol and numer process jone bartlett pub isbn stuart c shapiro common lisp an interact approach comput scienc press isbn web pdfkenneth d forbu johan de kleer build problem solver the mit press isbn andrea paepck object orient program the clo perspect the mit press isbn paul graham on lisp prentic hall isbn web pdfpaul graham ansi common lisp prentic hall isbn otto mayer programmieren in common lisp german spektrum akademisch verlag isbn stephen slade object orient common lisp prentic hall isbn richard p gabriel pattern of softwar tale from the softwar commun oxford univers press isbn pdftaiichi yuasa hiroshi g okuno advanc lisp technolog crc isbn david b lamkin success lisp how to understand and us common lisp bookfix com isbn webpet seibel practic common lisp apress isbn webdoug hoyt let over lambda lulu com isbn webgeorg f luger william a stubblefield ai algorithm data structur and idiom in prolog lisp and java addison weslei isbn pdfconrad barski land of lisp learn to program in lisp on game at a time no starch press isbn webpavel penev lisp web tale leanpub web extern link edit wikibook ha more on the topic of common lisp the cliki a wiki for free and open sourc common lisp system run on unix like system common lisp softwar repositori histori common lisp hyperspec lisp at jplthe natur of lisp essai that examin lisp by comparison with xml common lisp implement a survei survei of maintain common lisp implement common lisp quick referenceplanet lisp articl about common lisp vte common lisp implement allegro clabclclforjavaclispclozur clcmuclcorman common lispeclgcllispworksmacintosh common lispmkclmovitzpoplogscien clsbclsymbol common lisp softwar librari allegrocacheallegroserveasdfclikiclimclsqlcl httpclxironcladsymbolicwebuncommon webweblock applic common lisp musiccommon music notationicadmiraimaximaopenmusicstumpwmsitegrind develop environ climacshemlockslim public common lisp the languageparadigm of ai programmingth art of the metaobject protocolon lisppract common lispobject orient program in common lisp design committe x j gui l steel jr other closcommon lisp hyperspeccommonloopsgreenspun s tenth rule retriev from http en wikipedia org w index php titl common lisp oldid categori common lispmulti paradigm program languagesfunct languagesdynam type program languagesdynam program languagesobject orient program languagesclass base program languagesprocedur program languagesextens syntax program languageslisp program languag familylisp program languag articl with exampl lisp codecross platform softwarecross platform free softwareprogram languag creat in hidden categori articl lack in text citat from mai all articl lack in text citationsal articl with unsourc statementsarticl with unsourc statement from mai articl need addit refer from juli all articl need addit refer navig menu person tool creat accountlog in namespac articletalk variant view readeditview histori more search navig main pagecontentsfeatur contentcurr eventsrandom articledon to wikipediawikipedia store interact helpabout wikipediacommun portalrec changescontact page tool what link hererel changesupload filespeci pagesperman linkpag informationwikidata itemcit thi page print export creat a bookdownload as pdfprintabl version languag ?e tinadanskdeutscheestiespa ol franaisgalego hrvatskislenskaitalianomagyar polskiportugu sromn? srpskohrvatski suomisvenska edit link thi page wa last modifi on august at text is avail under the creativ common attribut sharealik licens addit term mai appli by us thi site you agre to the term of us and privaci polici wikipedia is a regist trademark of the wikimedia foundat inc a non profit organ privaci policyabout wikipediadisclaimerscontact wikipediadevelopersmobil view
